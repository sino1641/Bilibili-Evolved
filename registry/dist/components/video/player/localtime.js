!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["video/player/localtime"]=t():e["video/player/localtime"]=t()}(globalThis,(()=>(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{component:()=>d});const o=coreApis.componentApis.video.playerAgent,n=coreApis.observer,a=coreApis.settings,i=coreApis.utils.urls;let r,s=none;var l=function(e){return e.TR="右上角",e.TL="左上角",e}(l||{});const d={name:"videoCurTime",author:{name:"FoundTheWOUT",link:"https://github.com/FoundTheWOUT"},description:{"zh-CN":"在视频的右上角显示当前时间"},displayName:"视频内显示时间",entry:async e=>{let{settings:{options:t},metadata:i}=e;const d=document.createElement("span");d.id="cur-time";const c={position:"absolute",top:"0",right:"0",zIndex:"10",fontSize:"x-large",fontWeight:"bold",margin:"1rem"},p={color:t.color,opacity:t.opacity};Object.keys(Object.assign(c,p)).forEach((e=>{d.style[e]=c[e]})),Object.keys(p).forEach((e=>{(0,a.addComponentListener)(`${i.name}.${e}`,(t=>{d.style[e]=t}))})),(0,a.addComponentListener)(`${i.name}.position`,(e=>{e===l.TR?(d.style.left="",d.style.right="0"):e===l.TL&&(d.style.right="",d.style.left="0")}),!0),(0,n.videoChange)((async()=>{(await o.playerAgent.query.video.wrap()).appendChild(d)})),s=()=>{const e=new Date;d.innerHTML=((e,t)=>{let o=e.getHours(),n=e.getMinutes().toFixed(),a=e.getSeconds().toFixed();Number(n)<10&&(n=n.padStart(2,"0")),Number(a)<10&&(a=a.padStart(2,"0")),!t?.TFFormat&&o>12&&(o-=12);const i=`${o}:${n}`;return t?.showSecond?`${i}:${a}`:i})(e,t)},r=setInterval(s,1e3)},reload(){document.getElementById("cur-time").style.visibility="",r=setInterval(s,1e3)},unload(){document.getElementById("cur-time").style.visibility="hidden",clearInterval(r)},tags:[componentsTags.video],options:{opacity:{slider:{max:1,min:0,step:.01},defaultValue:.5,displayName:"透明度"},color:{color:!0,defaultValue:"#d1d5db",displayName:"颜色"},showSecond:{defaultValue:!1,displayName:"显示秒"},TFFormat:{defaultValue:!0,displayName:"24小时制"},position:{defaultValue:l.TR,displayName:"位置",dropdownEnum:l}},urlInclude:i.allVideoUrls,commitHash:"160747d500bed9d3b8ef5b38e0f1e008446b2f11",coreVersion:"2.8.8"};return t=t.component})()));