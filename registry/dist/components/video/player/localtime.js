!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["video/player/localtime"]=t():e["video/player/localtime"]=t()}(self,(function(){return function(){"use strict";var e={d:function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{component:function(){return s}});var o=coreApis.componentApis.video.playerAgent,n=coreApis.settings,i=coreApis.utils.urls;let a,r=none;var l;!function(e){e.TR="右上角",e.TL="左上角"}(l||(l={}));const s={name:"videoCurTime",author:{name:"FoundTheWOUT",link:"https://github.com/FoundTheWOUT"},description:{"zh-CN":"在视频的右上角显示当前时间"},displayName:"视频内显示时间",entry:async({settings:{options:e},metadata:t})=>{const i=await o.playerAgent.query.video.wrap(),s=document.createElement("span");s.id="cur-time";const d={position:"absolute",top:"0",right:"0",zIndex:"10",fontSize:"x-large",fontWeight:"bold",margin:"1rem"},c={color:e.color,opacity:e.opacity};Object.keys(Object.assign(d,c)).forEach((e=>{s.style[e]=d[e]})),Object.keys(c).forEach((e=>{(0,n.addComponentListener)(`${t.name}.${e}`,(t=>{s.style[e]=t}))})),(0,n.addComponentListener)(`${t.name}.position`,(e=>{e===l.TR?(s.style.left="",s.style.right="0"):e===l.TL&&(s.style.right="",s.style.left="0")}),!0),i.appendChild(s),r=()=>{const t=new Date;s.innerHTML=((e,t)=>{let o=e.getHours(),n=e.getMinutes().toFixed(),i=e.getSeconds().toFixed();Number(n)<10&&(n=n.padStart(2,"0")),Number(i)<10&&(i=i.padStart(2,"0")),!t?.TFFormat&&o>12&&(o-=12);const a=`${o}:${n}`;return t?.showSecond?`${a}:${i}`:a})(t,e)},a=setInterval(r,1e3)},reload(){document.getElementById("cur-time").style.visibility="",a=setInterval(r,1e3)},unload(){document.getElementById("cur-time").style.visibility="hidden",clearInterval(a)},tags:[componentsTags.video],options:{opacity:{slider:{max:1,min:0,step:.01},defaultValue:.5,displayName:"透明度"},color:{color:!0,defaultValue:"#d1d5db",displayName:"颜色"},showSecond:{defaultValue:!1,displayName:"显示秒"},TFFormat:{defaultValue:!0,displayName:"24小时制"},position:{defaultValue:l.TR,displayName:"位置",dropdownEnum:l}},urlInclude:i.allVideoUrls,commitHash:"7c1c01fd7ba7f8d4fc935026bf95e889092f26d1"};return t=t.component}()}));