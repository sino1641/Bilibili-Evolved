!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["video/player/localtime"]=t():e["video/player/localtime"]=t()}(self,(function(){return function(){"use strict";var e={d:function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{component:function(){return r}});var o=coreApis.settings,n=coreApis.utils.urls;let i,a=none;const r={name:"videoCurTime",author:{name:"FoundTheWOUT",link:"https://github.com/FoundTheWOUT"},description:{"zh-CN":"在视频的右上角显示当前时间"},displayName:"视频内显示时间",entry:async({settings:{options:e},metadata:t})=>{const n=dq(".bilibili-player-video-wrap"),r=document.createElement("span");r.id="cur-time";const l={position:"absolute",top:"0",right:"0",zIndex:"70",fontSize:"x-large",fontWeight:"bold",margin:"1rem"},s={color:e.color,opacity:e.opacity};Object.keys(Object.assign(l,s)).forEach((e=>{r.style[e]=l[e]})),Object.keys(s).forEach((e=>{(0,o.addComponentListener)(`${t.name}.${e}`,(t=>{r.style[e]=t}))})),n.appendChild(r);a=()=>{const t=new Date;r.innerHTML=(t=>{let o=t.getHours(),n=t.getMinutes().toFixed(),i=t.getSeconds().toFixed();Number(n)<10&&(n=n.padStart(2,"0")),Number(i)<10&&(i=i.padStart(2,"0")),!e?.TFFormat&&o>12&&(o-=12);const a=`${o}:${n}`;return e?.showSecond?`${a}:${i}`:a})(t)},i=setInterval(a,1e3)},reload(){document.getElementById("cur-time").style.visibility="",i=setInterval(a,1e3)},unload(){document.getElementById("cur-time").style.visibility="hidden",clearInterval(i)},tags:[componentsTags.video],options:{opacity:{slider:{max:1,min:0,step:.01},defaultValue:.5,displayName:"透明度"},color:{color:!0,defaultValue:"#d1d5db",displayName:"颜色"},showSecond:{defaultValue:!1,displayName:"是否显示秒"},TFFormat:{defaultValue:!0,displayName:"24小时制"}},urlInclude:n.allVideoUrls};return t=t.component}()}));